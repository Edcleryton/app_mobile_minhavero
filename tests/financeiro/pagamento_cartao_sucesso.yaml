appId: com.vero_mobile
---
- launchApp:
    clearState: true
# Chama o login. Se precisar trocar o usuário, altere direto no login_sucesso_flow.yaml ou no .env
- runFlow: ../flows/login_sucesso_flow.yaml
- runFlow:
    when:
      visible: Agora Não
    commands:
      - tapOn: Agora Não
- assertVisible: Financeiro
- tapOn: Financeiro
- assertVisible: 'Você está visualizando o plano:.*'
- assertVisible: Pagar fatura
- tapOn: Pagar fatura
- assertVisible: Pagar com cartão
- tapOn: Pagar com cartão
- extendedWaitUntil:
    visible:
    timeout: 310000
- runFlow: ../pages/pagamento_cartao_page.yaml
- scrollUntilVisible:
    element: Data de validade Frente do cartão no formato MM/AA
    direction: DOWN
- tapOn: Número do cartão
- inputText: ${CARTAO_ELO}
- tapOn: Data de validade.*
- inputText: ${CARTAO_VALIDADE}
- tapOn: Código de segurança.*
- inputText: ${CARTAO_CVV}
- scrollUntilVisible:
    element:
      text: '(?i)Pagar.*R\$.*'
    direction: DOWN
    timeout: 20000
- doubleTapOn:
    point: 16%,86%
- tapOn:
    text: '(?i)Pagar.*R\$.*'
- runFlow: ../pages/pagamento_sucesso_page.yaml
- tapOn: Voltar
- assertVisible: Pagar fatura
